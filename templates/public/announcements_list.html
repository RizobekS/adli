{% extends "base_public.html" %}
{% load i18n %}

{% block title %}{% trans "Объявления" %} | ADLI{% endblock %}

{% block content %}
<div class="space-y-5">
  <div class="flex items-start justify-between gap-3">
    <div>
      <h1 class="text-2xl sm:text-3xl font-semibold tracking-tight text-gray-900">{% trans "Объявления" %}</h1>
      <p class="mt-1 text-gray-600">{% trans "Официальные объявления и уведомления." %}</p>
    </div>
  </div>

  {% if news_list %}
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
      {% for n in news_list %}
        <a href="{% url 'agency:public_news_detail' n.pk %}"
           class="group rounded-2xl border border-gray-200 bg-white hover:bg-gray-50 overflow-hidden">
          {% if n.photo %}
            <img src="{{ n.photo.url }}" alt="{{ n.title }}" class="h-44 w-full object-cover">
          {% else %}
            <div class="h-44 w-full bg-gray-100 flex items-center justify-center text-gray-400">
              {% trans "Без фото" %}
            </div>
          {% endif %}
          <div class="p-4">
            <div class="flex items-center justify-between gap-3 text-xs text-gray-500">
              <span>{{ n.published_at|date:"d.m.Y" }}</span>
              <span>{% trans "Просмотры" %}: {{ n.views_count }}</span>
            </div>
            <div class="mt-2 font-semibold text-gray-900 group-hover:text-blue-700 line-clamp-2">
              {{ n.title }}
            </div>
            {% if n.description %}
              <div class="mt-2 text-sm text-gray-600 line-clamp-3">
                {{ n.description }}
              </div>
            {% endif %}
          </div>
        </a>
      {% endfor %}
    </div>
  {% else %}
    <div class="rounded-2xl border border-gray-200 bg-white p-6 text-gray-600">
      {% trans "Объявлений пока нет." %}
    </div>
  {% endif %}
</div>
{% endblock %}
